<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CoCounsel Tax ‚Äì Research</title>
  <link rel="stylesheet" href="tr-styles.css" />
</head>

<body class="tr-body">
  <div id="shell"></div>

  <main class="tr-main tr-page-transition">
    <section class="tr-card">
      <h3>Tax Research</h3>
      <p class="tr-muted">Enter a tax question and see how CoCounsel surfaces relevant authority.</p>

      <div class="tr-search-bar">
        <input id="researchQuery" class="tr-input"
               placeholder="Ex: Can a pass-through entity deduct home office expenses under ¬ß162?" />
        <button class="tr-btn-primary" onclick="runSearch()">Search</button>
      </div>

      <p class="tr-hint">Demo tip: Anything you type will show the same results.</p>
    </section>

    <!-- Results -->
    <section id="resultsSection" class="tr-grid tr-results-grid">
      <article class="tr-card">
        <h4>IRC ¬ß162(a): Trade or Business Expenses</h4>
        <p class="tr-muted">26 U.S.C. ¬ß162(a)</p>
        <p>CoCounsel Summary: Ordinary & necessary expenses may be deductible‚Ä¶</p>
        <p class="tr-citation">Citations: IRC ¬ß162(a); Treas. Reg. ¬ß1.162-1</p>
        <button class="tr-btn-secondary" onclick="viewDoc('IRC ¬ß162(a) ‚Äì Trade or Business Expenses')">View Document</button>
      </article>

      <article class="tr-card">
        <h4>Rev. Rul. 2020-20: NOL Carrybacks</h4>
        <p class="tr-muted">Rev. Rul. 2020-20</p>
        <p>CoCounsel Insight: Clarifies CARES Act NOL carryback provisions‚Ä¶</p>
        <p class="tr-citation">Citations: Rev. Rul. 2020-20; IRC ¬ß172</p>
        <button class="tr-btn-secondary" onclick="viewDoc('Rev. Rul. 2020-20 ‚Äì NOL Carrybacks')">View Document</button>
      </article>

      <article class="tr-card">
        <h4>Smith v. Commissioner (2013)</h4>
        <p class="tr-muted">T.C. Memo. 2013-203</p>
        <p>CoCounsel Summary: Home office test requires exclusive use‚Ä¶</p>
        <p class="tr-citation">Citation: ¬ß280A; T.C. Memo. 2013-203</p>
        <button class="tr-btn-secondary" onclick="viewDoc('Smith v. Commissioner ‚Äì Home Office Case')">View Document</button>
      </article>
    </section>

    <section id="previewSection" class="tr-card tr-doc-preview" style="display: none;">
      <h4 id="previewTitle">Document Preview</h4>
      <p class="tr-muted">Excerpt</p>
      <p id="previewBody">Lorem ipsum tax text‚Ä¶</p>
      <p class="tr-citation">Highlighted Citation: IRC ¬ß162(a)</p>
      <p class="tr-hint">AI summary available in CoCounselTax</p>
    </section>
  </main>

  <script>
    function runSearch() {
      document.getElementById("resultsSection").scrollIntoView({ behavior: "smooth" });
    }

    function viewDoc(title) {
      previewTitle.textContent = title;
      previewBody.textContent =
        "Sample excerpt from " + title +
        ": CoCounsel highlights key passages, summarizes holdings‚Ä¶";
      previewSection.style.display = "block";
      previewSection.scrollIntoView({ behavior: "smooth" });
    }
  </script>

  <!-- Web Messenger -->
  <script type="text/javascript" charset="utf-8">
    (function (g, e, n, es, ys) {
      g['_genesysJs'] = e;
      g[e] = g[e] || function () { (g[e].q = g[e].q || []).push(arguments) };
      g[e].t = 1 * new Date();
      g[e].c = es;
      ys = document.createElement('script'); ys.async = 1; ys.src = n;
      ys.charset = 'utf-8'; document.head.appendChild(ys);
    })(window, 'Genesys', 'https://apps.mypurecloud.com/genesys-bootstrap/genesys.min.js', {
      environment: 'prod', deploymentId: '0042b643-9e47-4c81-b7c3-fbe66fb52dd8'
    });
  </script>

  <!-- Shell loader -->
  <script>
    fetch("tr-shell.html")
      .then(r => r.text())
      .then(html => {
        document.getElementById("shell").innerHTML = html;
        navResearch.classList.add("tr-nav-active");

        themeToggle.onclick = () => {
          document.body.classList.toggle("dark");
          themeToggle.textContent = document.body.classList.contains("dark") ? "üåô" : "‚òÄÔ∏è";
        };
      });
  </script>
</body>
</html>
