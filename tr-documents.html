<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CoCounsel Tax ‚Äì Documents</title>
  <link rel="stylesheet" href="tr-styles.css" />
</head>

<body class="tr-body">
  <div id="shell"></div>

  <main class="tr-main tr-page-transition">
    <section class="tr-layout-2col">
      <aside class="tr-card tr-doc-list">
        <h3>Document Library</h3>
        <ul class="tr-doc-list-items">
          <li onclick="selectDoc('IRS Notice 2023-14', 'Notice2023-14')">IRS Notice 2023-14 ‚Äì Energy Credits</li>
          <li onclick="selectDoc('Client Memo ‚Äì NOL Planning', 'NOLMemo')">Client Memo ‚Äì NOL Planning</li>
          <li onclick="selectDoc('State Apportionment Draft', 'ApportionmentDraft')">State Apportionment Draft</li>
        </ul>
      </aside>

      <section class="tr-card tr-doc-preview">
        <h3 id="docTitle">Select a document to preview</h3>
        <p class="tr-muted">
          CoCounsel Tax summarizes and highlights relevant citations.
        </p>

        <div id="docContent" class="tr-doc-content">
          <p>Select a document to see the sample excerpt.</p>
        </div>

        <div id="aiSummary" class="tr-ai-summary" style="display:none;">
          <h4>CoCounsel AI Summary</h4>
          <p id="aiSummaryBody"></p>
        </div>
      </section>
    </section>
  </main>

  <script>
    function selectDoc(title, key) {
      docTitle.textContent = title;
      aiSummary.style.display = "block";

      if (key === "Notice2023-14") {
        docContent.innerHTML = `
          <p><strong>Excerpt:</strong> Guidance on energy credits‚Ä¶</p>
          <p class="tr-citation">Citation: Notice 2023-14; IRC ¬ß¬ß45, 48</p>`;
        aiSummaryBody.textContent =
          "CoCounsel outlines eligibility for 2023 energy credits and flags planning opportunities.";
      }

      if (key === "NOLMemo") {
        docContent.innerHTML = `
          <p><strong>Excerpt:</strong> Planning considerations for NOLs‚Ä¶</p>
          <p class="tr-citation">Citation: IRC ¬ß172; Rev. Rul. 2020-20</p>`;
        aiSummaryBody.textContent =
          "CoCounsel summarizes NOL carryforward strategies and optimal carryback periods.";
      }

      if (key === "ApportionmentDraft") {
        docContent.innerHTML = `
          <p><strong>Excerpt:</strong> Comparison of apportionment rules‚Ä¶</p>
          <p class="tr-citation">Citation: UDITPA; various state statutes</p>`;
        aiSummaryBody.textContent =
          "CoCounsel identifies planning opportunities based on differences in state apportionment.";
      }
    }
  </script>

  <!-- Messenger -->
  <script type="text/javascript" charset="utf-8">
    (function (g, e, n, es, ys) {
      g['_genesysJs'] = e;
      g[e] = g[e] || function () { (g[e].q = g[e].q || []).push(arguments) };
      g[e].t = 1 * new Date();
      g[e].c = es;
      ys = document.createElement('script'); ys.async = 1; ys.src = n;
      ys.charset = 'utf-8'; document.head.appendChild(ys);
    })(window, 'Genesys', 'https://apps.mypurecloud.com/genesys-bootstrap/genesys.min.js', {
      environment: 'prod', deploymentId: '0042b643-9e47-4c81-b7c3-fbe66fb52dd8'
    });
  </script>

  <script>
    fetch("tr-shell.html")
      .then(r => r.text())
      .then(html => {
        document.getElementById("shell").innerHTML = html;
        navDocs.classList.add("tr-nav-active");

        themeToggle.onclick = () => {
          document.body.classList.toggle("dark");
          themeToggle.textContent = document.body.classList.contains("dark") ? "üåô" : "‚òÄÔ∏è";
        };
      });
  </script>
</body>
</html>
